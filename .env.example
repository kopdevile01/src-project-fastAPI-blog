# ======================
# Local development (backend runs on host)
# ======================

# --- PostgreSQL (app connects to host:5432) ---
DATABASE_URL=postgresql+psycopg://fastapi_user:fastapi_password@localhost:5432/fastapi_blog_db
TEST_DATABASE_URL=postgresql+psycopg://fastapi_user:fastapi_password@localhost:5432/fastapi_blog_db_test

# Эти переменные используются docker-compose для инициализации контейнера Postgres:
POSTGRES_DB=fastapi_blog_db
POSTGRES_USER=fastapi_user
POSTGRES_PASSWORD=fastapi_password

# --- JWT ---
JWT_SECRET=CHANGE_ME
JWT_EXP_MINUTES=60

# --- SMTP (MailHog на хосте) ---
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@example.com

# --- RabbitMQ (на хосте) ---
RABBITMQ_URL=amqp://guest:guest@localhost:5672/

# --- S3 / MinIO (из хоста к MinIO в docker) ---
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minio
S3_SECRET_KEY=minio123
S3_BUCKET=blog-images
S3_PUBLIC_URL=http://localhost:9000

# Эти переменные используются docker-compose для запуска самого MinIO:
MINIO_ROOT_USER=minio
MINIO_ROOT_PASSWORD=minio123

# ======================
# If backend runs INSIDE docker-compose (override the lines above)
# Uncomment the following and use them instead:
# ======================

# DATABASE_URL=postgresql+psycopg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db:5432/${POSTGRES_DB}
# RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672//
# SMTP_HOST=mailhog
# S3_ENDPOINT=http://minio:9000
# S3_PUBLIC_URL=http://localhost:9000

# UVICORN_WORKERS=2
# CELERY_CONCURRENCY=2
